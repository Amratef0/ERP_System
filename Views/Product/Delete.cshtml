@model ERP_System_Project.ViewModels.Inventory.ProductVM
@{
    ViewData["Title"] = "Delete Product";

    var brandName = "";
    var categoryName = "";

    if (ViewBag.Brands is IEnumerable<Microsoft.AspNetCore.Mvc.Rendering.SelectListItem> brands)
    {
        brandName = brands.FirstOrDefault(b => b.Value == Model.BrandId.ToString())?.Text ?? "";
    }

    if (ViewBag.Categories is IEnumerable<Microsoft.AspNetCore.Mvc.Rendering.SelectListItem> categories)
    {
        categoryName = categories.FirstOrDefault(c => c.Value == Model.CategoryId.ToString())?.Text ?? "";
    }
}

<link rel="stylesheet" href="~/css/CRUD/Delete.css" />

<div class="delete-wrapper">

    <h2 class="title text-danger">Delete Product</h2>

    <!-- Warning Alert -->
        <div class="alert alert-danger" role="alert">
            <h4 class="alert-heading"><i class="fas fa-exclamation-triangle"></i> Warning!</h4>
            <p>You are about to delete this product. This action cannot be undone. Are you sure you want to proceed?</p>
        </div>

    <div class="details-section">
        <h4 class="record-name">@Model.Name</h4>

        <dl class="details-grid">

            <div class="detail-item">
                <dt>ID</dt>
                <dd>@Model.Id</dd>
            </div>

            <div class="detail-item">
                <dt>Name</dt>
                <dd>@Model.Name</dd>
            </div>

            <div class="detail-item">
                <dt>Description</dt>
                <dd>@Model.Description</dd>
            </div>

            <div class="detail-item">
                <dt>Unit Cost</dt>
                <dd>@Model.UnitCost</dd>
            </div>

            <div class="detail-item">
                <dt>Standard Price</dt>
                <dd>@Model.StandardPrice</dd>
            </div>

            <div class="detail-item">
                <dt>Quantity</dt>
                <dd>@Model.Quantity</dd>
            </div>

            <div class="detail-item">
                <dt>Brand</dt>
                <dd>@brandName</dd>
            </div>

            <div class="detail-item">
                <dt>Category</dt>
                <dd>@categoryName</dd>
            </div>

            <div class="detail-item full-width">
                <dt>Product Image</dt>
                <dd>
                    @if (!string.IsNullOrEmpty(Model.ImageURL))
                    {
                        <img src="@Model.ImageURL" alt="Product Image" class="img-thumbnail" style="height: 200px; max-width: 400px;" />
                    }
                    else
                    {
                        <div class="alert alert-info">
                            <i class="fas fa-image"></i> No image uploaded for this product.
                        </div>
                    }
                </dd>
            </div>

        </dl>
    </div>

    <form asp-action="Delete" method="post">
        <input type="hidden" asp-for="Id" />
        <input type="hidden" asp-for="ImageURL" />

        <div class="viewActions">
            <div class="left-buttons">
                <button type="submit" class="btn btn-delete"><i class="fas fa-trash"></i> Delete</button>
                <a asp-action="Index" asp-controller="Product" class="btn btn-back">Cancel</a>
            </div>
        </div>
    </form>

</div>
