@model ERP_System_Project.Models.PurchaseOrder

<h2>Create Purchase Order</h2>

<form asp-action="Create" method="get">
    <div class="form-group">
        <label>Supplier</label>
        <select name="supplierId" class="form-control" onchange="this.form.submit()">
            <option value="">-- Select Supplier --</option>
            @foreach (var s in (SelectList)ViewData["Suppliers"])
            {
                if (s.Selected)
                {
                    <option value="@s.Value" selected>@s.Text</option>
                }
                else
                {
                    <option value="@s.Value">@s.Text</option>
                }
            }
        </select>
    </div>
</form>


<form asp-action="Create" method="post">
    <input type="hidden" name="SupplierId" value="@( ((SelectList)ViewData["Suppliers"])?.SelectedValue )" />

    <div class="form-group">
        <label>Product</label>
        <select name="ProductId" class="form-control" asp-items="@(ViewData["Products"] as SelectList)">
            <option value="">-- Select Product --</option>
        </select>
        <span asp-validation-for="WarehouseProductId" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label>Warehouse</label>
        <select name="WarehouseId" class="form-control" asp-items="@(ViewData["Warehouses"] as SelectList)">
            <option value="">-- Select Warehouse --</option>
        </select>
        <span asp-validation-for="WarehouseId" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label>Quantity</label>
        <input name="Quantity" type="number" step="0.01" class="form-control" />
        <span asp-validation-for="Quantity" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label>PO Number</label>
        <input name="PoNumber" class="form-control" />
    </div>

    <div class="form-group">
        <label>Order Date</label>
        <input name="OrderDate" type="date" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-dd")" />
    </div>

    <button type="submit" class="btn btn-success">Create</button>
    <a asp-action="Index" class="btn btn-secondary">Back</a>
</form>
