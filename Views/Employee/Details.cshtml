@model EmployeeVM

@{
    ViewData["Title"] = "Employee Details";
}

<div class="container mt-4">
    <h2><i class="bi bi-person-badge"></i> Employee Details</h2>
    <hr />

    <div class="row">
        <!-- Left Column: Photo & Quick Info -->
        <div class="col-md-4">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Photo & Status</h5>
                </div>
                <div class="card-body text-center">
                    @if (!string.IsNullOrEmpty(Model.ImageURL))
                    {
                        <img src="@Model.ImageURL" alt="@Model.FirstName @Model.LastName" 
                             class="img-thumbnail mb-3" style="width: 200px; height: 200px; object-fit: cover;" />
                    }
                    else
                    {
                        <div class="bg-secondary text-white d-inline-flex align-items-center justify-content-center mb-3" 
                             style="width: 200px; height: 200px; font-size: 5rem; border-radius: 0.25rem;">
                            @Model.FirstName?.Substring(0, 1).ToUpper()
                        </div>
                    }
                    
                    <h4>@Model.FirstName @Model.LastName</h4>
                    <p class="text-muted">@Model.JobTitle</p>
                    
                    @if (Model.IsActive)
                    {
                        <span class="badge bg-success">Active</span>
                    }
                    else
                    {
                        <span class="badge bg-danger">Inactive</span>
                    }
                </div>
            </div>

            <!-- Contact Info Card -->
            <div class="card mt-3">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">Contact Information</h5>
                </div>
                <div class="card-body">
                    <p><strong>Work Email:</strong><br />@Model.WorkEmail</p>
                    <p><strong>Work Phone:</strong><br />@Model.WorkPhone</p>
                    @if (!string.IsNullOrEmpty(Model.PersonalEmail))
                    {
                        <p><strong>Personal Email:</strong><br />@Model.PersonalEmail</p>
                    }
                    @if (!string.IsNullOrEmpty(Model.PersonalPhone))
                    {
                        <p><strong>Personal Phone:</strong><br />@Model.PersonalPhone</p>
                    }
                </div>
            </div>
        </div>

        <!-- Right Column: Detailed Information -->
        <div class="col-md-8">
            <!-- Personal Information -->
            <div class="card mb-3">
                <div class="card-header bg-secondary text-white">
                    <h5 class="mb-0">Personal Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>First Name:</strong> @Model.FirstName</p>
                            <p><strong>Last Name:</strong> @Model.LastName</p>
                            <p><strong>Gender:</strong> @Model.Gender</p>
                            <p><strong>Date of Birth:</strong> @Model.DateOfBirth.ToString("dd MMM yyyy")</p>
                        </div>
                        <div class="col-md-6">
                            @if (!string.IsNullOrEmpty(Model.NationalId))
                            {
                                <p><strong>National ID:</strong> @Model.NationalId</p>
                            }
                            @if (!string.IsNullOrEmpty(Model.PassportNumber))
                            {
                                <p><strong>Passport Number:</strong> @Model.PassportNumber</p>
                            }
                        </div>
                    </div>
                </div>
            </div>

            <!-- Employment Information -->
            <div class="card mb-3">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">Employment Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>Department:</strong> @Model.Department</p>
                            <p><strong>Job Title:</strong> @Model.JobTitle</p>
                            <p><strong>Employee Type:</strong> @Model.Type</p>
                        </div>
                        <div class="col-md-6">
                            <p><strong>Branch:</strong> @Model.Branch</p>
                            <p><strong>Hire Date:</strong> @Model.HireDate.ToString("dd MMM yyyy")</p>
                            @if (Model.TerminationDate.HasValue)
                            {
                                <p><strong>Termination Date:</strong> @Model.TerminationDate.Value.ToString("dd MMM yyyy")</p>
                            }
                        </div>
                    </div>
                </div>
            </div>

            <!-- Salary Information -->
            <div class="card mb-3">
                <div class="card-header bg-warning text-dark">
                    <h5 class="mb-0">Salary & Banking</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>Base Salary:</strong> @Model.BaseSalary.ToString("N2")</p>
                            <p><strong>Currency:</strong> @Model.SalaryCurrency</p>
                        </div>
                        <div class="col-md-6">
                            @if (!string.IsNullOrEmpty(Model.BankName))
                            {
                                <p><strong>Bank Name:</strong> @Model.BankName</p>
                            }
                            @if (!string.IsNullOrEmpty(Model.BankAccountNumber))
                            {
                                <p><strong>Account Number:</strong> @Model.BankAccountNumber</p>
                            }
                        </div>
                    </div>
                </div>
            </div>

            <!-- Address Information -->
            <div class="card mb-3">
                <div class="card-header bg-dark text-white">
                    <h5 class="mb-0">Address</h5>
                </div>
                <div class="card-body">
                    <p><strong>Address:</strong> @Model.Line1</p>
                    @if (!string.IsNullOrEmpty(Model.Line2))
                    {
                        <p>@Model.Line2</p>
                    }
                    <p>@Model.City, @Model.StateProvince @Model.PostalCode</p>
                    <p><strong>Country:</strong> @Model.Country</p>
                </div>
            </div>

            <!-- Emergency Contact -->
            @if (!string.IsNullOrEmpty(Model.EmergencyContactName))
            {
                <div class="card mb-3">
                    <div class="card-header bg-danger text-white">
                        <h5 class="mb-0">Emergency Contact</h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Name:</strong> @Model.EmergencyContactName</p>
                        <p><strong>Phone:</strong> @Model.EmergencyContactPhone</p>
                    </div>
                </div>
            }
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="mt-3">
        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">
            <i class="bi bi-pencil"></i> Edit Employee
        </a>
        <a asp-action="Index" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Back to List
        </a>
    </div>
</div>
